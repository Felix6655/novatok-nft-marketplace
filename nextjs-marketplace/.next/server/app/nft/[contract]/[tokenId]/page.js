(()=>{var e={};e.id=5087,e.ids=[5087],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},85807:e=>{"use strict";e.exports=require("module")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},68621:e=>{"use strict";e.exports=require("punycode")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},6162:e=>{"use strict";e.exports=require("worker_threads")},71568:e=>{"use strict";e.exports=require("zlib")},6005:e=>{"use strict";e.exports=require("node:crypto")},44969:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>u,tree:()=>o}),s(3056),s(68112),s(35866);var r=s(23191),n=s(88716),i=s(37922),a=s.n(i),l=s(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["nft",{children:["[contract]",{children:["[tokenId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3056)),"/app/nextjs-marketplace/src/app/nft/[contract]/[tokenId]/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,68112)),"/app/nextjs-marketplace/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/app/nextjs-marketplace/src/app/nft/[contract]/[tokenId]/page.tsx"],x="/nft/[contract]/[tokenId]/page",m={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/nft/[contract]/[tokenId]/page",pathname:"/nft/[contract]/[tokenId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},8143:(e,t,s)=>{Promise.resolve().then(s.bind(s,85487))},86333:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7027:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},60763:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});let r=(0,s(62881).Z)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},85487:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var r=s(10326),n=s(17577),i=s(35047),a=s(90434),l=s(37945),c=s(95224),o=s(46929),d=s(5254),x=s(66652),m=s(77506),u=s(7027),h=s(62881);let p=(0,h.Z)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),f=(0,h.Z)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var b=s(50949),j=s(87674);function g({open:e,onClose:t,state:s,txHash:n,error:i,onRetry:a,nftName:l}){return e?(0,r.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:"success"===s||"error"===s?t:void 0}),(0,r.jsxs)("div",{className:"relative w-full max-w-md bg-zinc-900 border border-zinc-800 rounded-2xl shadow-2xl p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white text-center mb-2",children:(()=>{switch(s){case"confirming":return"Confirm Transaction";case"pending":return"Transaction Pending";case"success":return"Purchase Complete!";case"error":return"Transaction Failed";default:return"Processing"}})()}),r.jsx("p",{className:"text-zinc-400 text-center mb-6",children:(()=>{switch(s){case"confirming":return"Please confirm the transaction in your wallet...";case"pending":return"Your transaction is being processed on the blockchain...";case"success":return`You successfully purchased ${l||"this NFT"}!`;case"error":return N(i||"Something went wrong");default:return"Please wait..."}})()}),"confirming"===s&&(0,r.jsxs)("div",{className:"flex flex-col items-center py-8",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-lime-400/10 flex items-center justify-center mb-4 animate-pulse",children:r.jsx(m.Z,{className:"w-8 h-8 text-lime-400 animate-spin"})}),r.jsx("p",{className:"text-zinc-500",children:"Waiting for wallet confirmation..."})]}),"pending"===s&&(0,r.jsxs)("div",{className:"flex flex-col items-center py-8",children:[r.jsx("div",{className:"w-16 h-16 rounded-full bg-yellow-500/10 flex items-center justify-center mb-4",children:r.jsx(m.Z,{className:"w-8 h-8 text-yellow-500 animate-spin"})}),n&&(0,r.jsxs)("a",{href:(0,j.QG)(n),target:"_blank",rel:"noopener noreferrer",className:"text-lime-400 hover:underline flex items-center gap-1 text-sm",children:["View on Explorer ",r.jsx(u.Z,{className:"w-3 h-3"})]}),r.jsx("p",{className:"text-zinc-500 text-sm mt-4",children:"This may take a few moments..."})]}),"success"===s&&(0,r.jsxs)("div",{className:"flex flex-col items-center py-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/10 flex items-center justify-center mb-4",children:r.jsx(p,{className:"w-10 h-10 text-green-500"})}),n&&(0,r.jsxs)("a",{href:(0,j.QG)(n),target:"_blank",rel:"noopener noreferrer",className:"text-lime-400 hover:underline flex items-center gap-1 text-sm mb-6",children:["View Transaction ",r.jsx(u.Z,{className:"w-3 h-3"})]}),(0,r.jsxs)("div",{className:"flex gap-4 w-full",children:[r.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 rounded-full border border-zinc-700 text-white hover:bg-zinc-800 transition-colors",children:"Close"}),r.jsx("a",{href:"/profile",className:"flex-1 px-4 py-3 rounded-full bg-lime-400 text-zinc-900 font-bold text-center hover:bg-lime-300 transition-colors",children:"View in Profile"})]})]}),"error"===s&&(0,r.jsxs)("div",{className:"flex flex-col items-center py-8",children:[r.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/10 flex items-center justify-center mb-4",children:r.jsx(f,{className:"w-10 h-10 text-red-500"})}),r.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-4 mb-6 max-w-sm",children:(0,r.jsxs)("div",{className:"flex items-start gap-2",children:[r.jsx(b.Z,{className:"w-4 h-4 text-red-400 mt-0.5 flex-shrink-0"}),r.jsx("p",{className:"text-red-400 text-sm",children:N(i||"")})]})}),(0,r.jsxs)("div",{className:"flex gap-4 w-full",children:[r.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 rounded-full border border-zinc-700 text-white hover:bg-zinc-800 transition-colors",children:"Cancel"}),a&&r.jsx("button",{onClick:a,className:"flex-1 px-4 py-3 rounded-full bg-lime-400 text-zinc-900 font-bold hover:bg-lime-300 transition-colors",children:"Try Again"})]})]})]})]}):null}function N(e){return e?e.includes("user rejected")||e.includes("User denied")?"Transaction was cancelled by user":e.includes("insufficient funds")||e.includes("insufficient balance")?"Insufficient MATIC balance for this purchase":e.includes("already fulfilled")||e.includes("already been filled")?"This NFT has already been sold":e.includes("expired")||e.includes("order is not active")?"This listing has expired":e.includes("cancelled")?"This listing has been cancelled by the seller":e.includes("gas required exceeds")||e.includes("execution reverted")?"Transaction would fail. The NFT may no longer be available.":e.length>150?e.slice(0,150)+"...":e:"An unknown error occurred"}var v=s(60763),w=s(16671);function y({token:e,price:t,currency:s="MATIC",nftName:i,disabled:a}){let{isConnected:m}=(0,l.m)(),u=(0,c.x)(),{switchChain:h}=(0,o.o)(),[p,f]=(0,n.useState)("idle"),[b,N]=(0,n.useState)(),[y,k]=(0,n.useState)(),[z,q]=(0,n.useState)(!1),[P,_]=(0,n.useState)(!1),C=m&&u!==j.Sz;return m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500 text-sm",children:[r.jsx(v.Z,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{children:"Atomic transfer via Reservoir"})]}),r.jsx(d.zY,{token:e,openState:[P,_],onConnectWallet:()=>{},onPurchaseComplete:e=>{console.log("Purchase complete:",e),e.txHash&&N(e.txHash),f("success"),q(!0),_(!1)},onPurchaseError:(e,t)=>{console.error("Purchase error:",e,t),k(e?.message||"Transaction failed"),f("error"),q(!0),_(!1)},onClose:()=>{_(!1)},trigger:r.jsx("button",{onClick:()=>{if(m){if(C){h({chainId:j.Sz});return}_(!0)}},disabled:a,className:"w-full flex items-center justify-center gap-2 px-8 py-4 rounded-full bg-lime-400 text-zinc-900 font-bold text-lg hover:bg-lime-300 transition-all shadow-[0_0_20px_rgba(163,230,53,0.4)] hover:shadow-[0_0_30px_rgba(163,230,53,0.6)] hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100","data-testid":"buy-now-btn",children:C?`Switch to ${j.NJ.name}`:(0,r.jsxs)(r.Fragment,{children:[r.jsx(w.Z,{className:"w-5 h-5"}),"Buy Now ",t&&`- ${t.toFixed(4)} ${s}`]})})})]}),r.jsx(g,{open:z,onClose:()=>{q(!1),f("idle")},state:p,txHash:b,error:y,onRetry:()=>{q(!1),f("idle"),setTimeout(()=>_(!0),100)},nftName:i})]}):r.jsx(x.N,{})}s(82244);var k=s(86333),z=s(71709);let q=(0,h.Z)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),P=(0,h.Z)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);function _(){let e=(0,i.useParams)();e.contract,e.tokenId;let[t,s]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),o=e=>`${e.slice(0,6)}...${e.slice(-4)}`;if(l)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:r.jsx(m.Z,{className:"w-8 h-8 text-lime-400 animate-spin"})});if(!t)return r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"NFT Not Found"}),r.jsx(a.default,{href:"/",children:(0,r.jsxs)("button",{className:"flex items-center gap-2 px-6 py-3 rounded-full border border-zinc-700 text-white hover:bg-zinc-800 transition-colors",children:[r.jsx(k.Z,{className:"w-4 h-4"}),"Back to Explore"]})})]})});let{token:d,market:x}=t,h=x?.floorAsk?.price?.amount?.decimal||x?.floorAsk?.price?.amount?.native,p=x?.floorAsk?.price?.currency?.symbol||"MATIC",f=!!h;return r.jsx("div",{className:"min-h-screen py-12",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-6",children:[(0,r.jsxs)(a.default,{href:d.collection?.id?`/collection/${encodeURIComponent(d.collection.id)}`:"/",className:"inline-flex items-center gap-2 text-zinc-500 hover:text-white transition-colors mb-8",children:[r.jsx(k.Z,{className:"w-4 h-4"}),d.collection?.name?`Back to ${d.collection.name}`:"Back to Explore"]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-12",children:[(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"aspect-square rounded-3xl overflow-hidden border border-zinc-800 bg-zinc-900",children:d.image?r.jsx("img",{src:d.image,alt:d.name||`#${d.tokenId}`,className:"w-full h-full object-cover"}):r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx(z.Z,{className:"w-20 h-20 text-zinc-600"})})}),(0,r.jsxs)("div",{className:"absolute top-4 right-4 flex gap-2",children:[r.jsx("button",{className:"p-3 rounded-full bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-colors",children:r.jsx(q,{className:"w-5 h-5 text-white"})}),r.jsx("button",{className:"p-3 rounded-full bg-black/50 backdrop-blur-sm hover:bg-black/70 transition-colors",children:r.jsx(P,{className:"w-5 h-5 text-white"})})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[d.collection&&(0,r.jsxs)(a.default,{href:`/collection/${encodeURIComponent(d.collection.id||"")}`,className:"inline-flex items-center gap-2 text-lime-400 hover:text-lime-300 transition-colors",children:[d.collection.image&&r.jsx("img",{src:d.collection.image,alt:d.collection.name||"",className:"w-6 h-6 rounded-lg"}),d.collection.name]}),r.jsx("h1",{className:"font-outfit font-bold text-4xl text-white","data-testid":"nft-title",children:d.name||`#${d.tokenId}`}),d.owner&&(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-zinc-500",children:"Owned by"}),r.jsx("a",{href:(0,j.SV)(d.owner),target:"_blank",rel:"noopener noreferrer",className:"font-mono text-white hover:text-lime-400 transition-colors",children:o(d.owner)})]}),d.description&&r.jsx("p",{className:"text-zinc-400",children:d.description}),r.jsx("div",{className:"p-6 rounded-2xl bg-zinc-900 border border-zinc-800",children:f?(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{className:"text-zinc-500 mb-2",children:"Current Price"}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2 mb-6",children:[r.jsx("span",{className:"font-outfit font-bold text-4xl text-lime-400",children:h?.toFixed(4)}),r.jsx("span",{className:"text-zinc-500 text-xl",children:p})]}),x?.floorAsk?.source&&(0,r.jsxs)("p",{className:"text-zinc-500 text-sm mb-4",children:["Listed on ",x.floorAsk.source.name]}),r.jsx(y,{token:`${d.contract}:${d.tokenId}`,price:h,currency:p,nftName:d.name||`#${d.tokenId}`})]}):(0,r.jsxs)("div",{className:"text-center py-4",children:[r.jsx("p",{className:"text-zinc-500 mb-2",children:"Status"}),r.jsx("p",{className:"text-white text-lg",children:"Not Listed for Sale"})]})}),d.attributes&&d.attributes.length>0&&(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-outfit font-semibold text-lg text-white mb-4",children:"Attributes"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:d.attributes.map((e,t)=>(0,r.jsxs)("div",{className:"p-4 rounded-xl bg-zinc-900 border border-zinc-800",children:[r.jsx("p",{className:"text-lime-400 text-xs uppercase tracking-wider mb-1",children:e.key}),r.jsx("p",{className:"text-white font-medium",children:e.value})]},t))})]}),(0,r.jsxs)("div",{className:"pt-6 border-t border-zinc-800",children:[r.jsx("h3",{className:"font-outfit font-semibold text-lg text-white mb-4",children:"Details"}),(0,r.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-zinc-500",children:"Contract Address"}),(0,r.jsxs)("a",{href:(0,j.SV)(d.contract),target:"_blank",rel:"noopener noreferrer",className:"font-mono text-white hover:text-lime-400 transition-colors flex items-center gap-1",children:[o(d.contract),r.jsx(u.Z,{className:"w-3 h-3"})]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-zinc-500",children:"Token ID"}),r.jsx("span",{className:"font-mono text-white",children:d.tokenId})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-zinc-500",children:"Blockchain"}),r.jsx("span",{className:"text-white",children:"Polygon"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-zinc-500",children:"Token Standard"}),r.jsx("span",{className:"text-white",children:"ERC-721"})]})]})]})]})]})]})})}},3056:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(68570).createProxy)(String.raw`/app/nextjs-marketplace/src/app/nft/[contract]/[tokenId]/page.tsx#default`)},73881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(66621);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[8948,1591,9300,2959],()=>s(44969));module.exports=r})();